# Cannot override this in a profile , ie  %mysql.quarkus.datasource.db-kind=mysql
# Which means, tests fail since they are made for postgresql..  Use -DskipTests=true
quarkus.datasource.db-kind=postgresql
#quarkus.datasource.db-kind=postgresql
##%postgres.quarkus.datasource.driver=org.postgresql.Driver


quarkus.datasource.username=quarkus_test
quarkus.datasource.password=quarkus_test
quarkus.datasource.jdbc.url=jdbc:postgresql://localhost/quarkus_test
quarkus.datasource.jdbc.max-size=8
quarkus.datasource.jdbc.min-size=2
quarkus.log.level=DEBUG
%test.quarkus.hibernate-orm.database.generation=drop-and-create
quarkus.hibernate-orm.database.generation=none
quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.sql-load-script=import.sql

quarkus.native.additional-build-args = \
   -H:ReflectionConfigurationFiles=reflection-config.json,\
   -Dsvm.platform='org.graalvm.nativeimage.impl.InternalPlatform$LINUX_JNI_AMD64'

# JDBC URL syntax:                 jdbc:mysql:///<DATABASE_NAME>?cloudSqlInstance=<INSTANCE_CONNECTION_NAME>&socketFactory=com.google.cloud.sql.mysql.SocketFactory&user=<MYSQL_USER_NAME>&password=<MYSQL_USER_PASSWORD>

%mysql.quarkus.datasource.db-kind=mysql
#	com.mysql.jdbc.Driver
%mysql.quarkus.datasource.jdbc.url=jdbc:mysql:///quarkus_test?cloudSqlInstance=coastal-dynamo-219717:europe-north1:frivillig&socketFactory=com.google.cloud.sql.mysql.SocketFactory&user=${DB_USER}&password=${DB_PASSWORD}&useSSL=false

%mysql.quarkus.hibernate-orm.database.generation=update
%mysql.quarkus.hibernate-orm.dialect=org.hibernate.dialect.MySQL57Dialect


#%postgres.quarkus.datasource.db-kind=postgresql
#%postgres.quarkus.datasource.driver=org.postgresql.Driver
#%postgres.quarkus.datasource.jdbc.url=jdbc:postgresql:///quarkus_test?cloudSqlInstance=frivillig:europe-north1:quickstart-postgres-dev&socketFactory=com.google.cloud.sql.postgres.SocketFactory&user=${DB_USER}&password=${DB_PASSWORD}
#%postgres.quarkus.datasource.additional-jdbc-properties.socketFactory=com.google.cloud.sql.postgres.SocketFactory
#%postgres.quarkus.datasource.additional-jdbc-properties.cloudSqlInstance=frivillig:europe-north1:quickstart-postgres-dev
